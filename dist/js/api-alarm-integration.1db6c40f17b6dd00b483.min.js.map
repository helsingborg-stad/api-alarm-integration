{"version":3,"file":"js/api-alarm-integration.1db6c40f17b6dd00b483.min.js","mappings":"oQAEA,iCAAe,WAEX,IAAIA,WAAa,GAEjB,SAASC,WACLC,KAAKC,cACT,CAyCA,OAvCAF,SAASG,UAAUC,OAAS,SAASC,IAAKC,MAEtC,IAAIC,SAAWR,WAAWM,KAiB1B,OAdAE,SAAWA,SAASC,QAAQ,2BAA4B,SAASC,EAAIC,GACjE,OAAOC,OAAOC,SAASN,KAAMI,EACjC,GAGAH,SAAWA,SAASC,QAAQ,kDAAmD,SAAUC,GAAIC,GAAIG,IAC7F,OAAKC,KAAKJ,IAIHG,GAHI,EAIf,GAGON,QACX,EAMAP,SAASG,UAAUD,aAAe,WAC9B,IAAIa,EAAmBC,SAASC,iBAAiB,mBAEjD,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAiBI,OAAQD,IAAK,CAC9C,IAAIE,EAAKL,EAAiBG,GACtBb,EAAMe,EAAGC,aAAa,iBACtBC,EAAOF,EAAGG,UAAUf,QAAQ,6BAA8B,IAE9DT,WAAWM,GAAOiB,EAClBF,EAAGI,cAAcC,YAAYL,EACjC,CACJ,EAEO,IAAIpB,QAEd,CAjDD,E,WCFeW,OAAOC,SAAW,SAASc,EAAGC,GAIzC,IAAIC,GAFJD,GADAA,EAAIA,EAAEnB,QAAQ,aAAc,QACtBA,QAAQ,MAAO,KAEXqB,MAAM,KAEhB,IAAK,IAAIX,EAAI,EAAGY,EAAIF,EAAET,OAAQD,EAAIY,IAAKZ,EAAG,CACtC,IAAIa,EAAIH,EAAEV,GAEV,KAAIa,KAAKL,GAGL,OAFAA,EAAIA,EAAEK,EAId,CAEA,OAAOL,CACX,C,GChBIM,yBAA2B,CAAC,EAGhC,SAASC,oBAAoBC,GAE5B,IAAIC,EAAeH,yBAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,yBAAyBE,GAAY,CAGjDG,QAAS,CAAC,GAOX,OAHAE,oBAAoBL,GAAUI,EAAQA,EAAOD,QAASJ,qBAG/CK,EAAOD,OACf,CCrBAJ,oBAAoBO,EAAI,CAACH,EAASI,KACjC,IAAI,IAAIpC,KAAOoC,EACXR,oBAAoBP,EAAEe,EAAYpC,KAAS4B,oBAAoBP,EAAEW,EAAShC,IAC5EM,OAAO+B,eAAeL,EAAShC,EAAK,CAAEsC,YAAY,EAAMC,IAAKH,EAAWpC,MCJ3E4B,oBAAoBP,EAAI,CAACmB,EAAKC,IAAUnC,OAAOR,UAAU4C,eAAeC,KAAKH,EAAKC,G,8jBCSlF,IAAIG,oBAA+C,CACnDA,OAA6B,CAAC,GAC9BA,oBAAoBC,OAAOlD,SAAWA,SAAAA,EAEtC,MAAMmD,YAYFC,WAAAA,CAAYC,GAVZC,gBAAA,yBAAAA,gBAAA,uBAAAA,gBAAA,0BAAAA,gBAAA,yBAWIrD,KAAKsD,UAAaF,EAClBpD,KAAKuD,QAAaH,EAAUhC,aAAa,wBACzCpB,KAAKwD,WAAaJ,EAAUhC,aAAa,kBAAoB,cAE7DpB,KAAKyD,UAAY,CACbC,OAAYV,oBAAoBC,QAAQlD,UAAUI,OAAO,gCACzDwD,SAAYX,oBAAoBC,QAAQlD,UAAUI,OAAO,mCACzDyD,MAAYZ,oBAAoBC,QAAQlD,UAAUI,OAAO,+BACzD0D,UAAYb,oBAAoBC,QAAQlD,UAAUI,OAAO,qCAG7DH,KAAK8D,aACL9D,KAAK+D,gBACT,CAEAD,UAAAA,GACI9D,KAAKsD,UAAUU,cAAc,8BAA8BC,gBAAgB,aAC3EjE,KAAKsD,UAAUY,mBAAmB,YAAalE,KAAKyD,UAAUC,QAG9D,IAAIS,EAAYnE,KAAKoE,UAAU1D,OAAO2D,OAAO,CACzCC,SAAUtE,KAAKuD,QACfgB,KAAMC,SAASxE,KAAKyE,kBAAoB,GACzCzE,KAAK0E,gBAERC,eAAwBC,EAAM,IAC1B,MAAMC,QAAiBC,MAAMF,EAAK,CAC9BG,MAAO,WACPC,QAAS,CACL,eAAgB,qCAEpBC,SAAU,SACVC,eAAgB,gBAGpB,OAAuB,MAApBL,EAASM,QAILN,EAASO,MACpB,EAEAC,CAAS,GAAGrF,KAAKwD,cAAcW,KAAamB,KAAMT,IAE1CA,GACA7E,KAAKuF,gBAGNV,IACIA,EAAS3D,QAAU,IAClBlB,KAAKwF,gBACLxF,KAAKyF,kBAGNZ,EAAS3D,OAAS,IACjB2D,EAASa,QAAQC,IACb3F,KAAK4F,eAAeD,KAGrB3F,KAAKsD,UAAUU,cAAc,yBAC5BhE,KAAKsD,UAAUU,cAAc,wBAAwB6B,SAGzD7F,KAAK8F,wBAGNjB,EAAS3D,QAAUlB,KAAKuD,UAEnBvD,KAAKsD,UAAUU,cAAc,iCAC7BhE,KAAKsD,UAAUY,mBAAmB,YAAalE,KAAKyD,UAAUE,UAE9D3D,KAAKsD,UAAUU,cAAc,+BAA+B+B,iBAAiB,QAAS,KAClF/F,KAAKsD,UAAU0C,aAAa,2BAA4BxB,SAASxE,KAAKyE,kBAAmB,GACzFzE,KAAK8D,iBAMde,EAAS3D,OAAS,GAAK2D,EAAS3D,OAASlB,KAAKuD,SAC7CvD,KAAKyF,iBAGTzF,KAAKsD,UAAUU,cAAc,+BAA+BgC,aAAa,YAAa,IACtFhG,KAAKsD,UAAUU,cAAc,4BAA4B6B,YAGhEI,MAAOC,IACJlG,KAAKuF,iBAEb,CAEAb,UAAAA,GACI,IAAIyB,EAAkC,CAClC,OAAUnG,KAAKoG,cAAcpG,KAAKsD,UAAUU,cAAc,kCAC1D,MAAShE,KAAKoG,cAAcpG,KAAKsD,UAAUU,cAAc,gCACzD,UAAahE,KAAKoG,cAAcpG,KAAKsD,UAAUU,cAAc,iCAAiCA,cAAc,UAC5G,QAAWhE,KAAKoG,cAAcpG,KAAKsD,UAAUU,cAAc,+BAA+BA,cAAc,WAI3E,iBAAtBmC,EAAQE,WAA0BF,EAAQE,UAAUC,SAAS,KACpEH,EAAQE,UAAYF,EAAQE,UAAUzE,MAAM,KAAK2E,UAAUC,KAAK,YAEzDL,EAAQE,UAGY,iBAApBF,EAAQM,SAAwBN,EAAQM,QAAQH,SAAS,KAChEH,EAAQM,QAAUN,EAAQM,QAAQ7E,MAAM,KAAK2E,UAAUC,KAAK,YAErDL,EAAQM,QAInB,IAAK,IAAIrG,KAAO+F,GACgB,iBAAjBA,EAAQ/F,IAA6C,KAAxB+F,EAAQ/F,GAAKsG,QAAkC,OAAjBP,EAAQ/F,SAAkC+B,IAAjBgE,EAAQ/F,YAC5F+F,EAAQ/F,GAIvB,OAAO+F,CACX,CAEAC,aAAAA,CAAcO,GACV,OAAe,OAAZA,EACQA,EAAQC,MAEZ,EACX,CAEAhB,cAAAA,CAAgBD,GACZA,EAAKkB,KAAOlB,EAAKkB,KAAKtG,QAAQ,IAAK,KAAKuG,UAAU,EAAGnB,EAAKkB,KAAK3F,OAAS,GAGxE,IAAI6F,EAAQ/D,oBAAoBC,OAAOlD,SAASI,OAAO,4BAA6BwF,GACpF3F,KAAKsD,UAAUU,cAAc,+BAA+BE,mBAAmB,YAAa6C,EAChG,CAEAC,gBAAAA,GAEQhH,KAAKsD,UAAUU,cAAc,iCAC7BhE,KAAKsD,UAAUY,mBAAmB,YAAalE,KAAKyD,UAAUE,UAE9D3D,KAAKsD,UAAUU,cAAc,+BAA+B+B,iBAAiB,QAAS,KAClF/F,KAAKsD,UAAU0C,aAAa,2BAA4BxB,SAASxE,KAAKyE,kBAAmB,GACzFzE,KAAK8D,eAGjB,CAIAC,cAAAA,GACI/D,KAAKsD,UAAUU,cAAc,8BAA8B+B,iBAAiB,QAAS,KACjF/F,KAAKiH,WAGTjH,KAAKsD,UAAUU,cAAc,iCAAiCkD,UAAahB,IACvD,IAAbA,EAAEiB,SACDnH,KAAKiH,SAGjB,CAEAA,MAAAA,GACIjH,KAAKsD,UAAU0C,aAAa,2BAA4B,GACxDhG,KAAKsD,UAAUU,cAAc,+BAA+BoD,UAAY,GACxEpH,KAAK8D,YACT,CAEAgC,oBAAAA,GACqB9F,KAAKsD,UAAUtC,iBAAiB,yBAExC0E,QAAQ2B,IACTA,EAAIC,aAAa,4BACjBD,EAAIrB,aAAa,yBAA0B,IAC3CqB,EAAItB,iBAAiB,QAAUG,IAC3BA,EAAEqB,OAAOC,QAAQ,yBAAyBC,gBAAgB,mBAI1E,CAEAhC,cAAAA,GACOzF,KAAKsD,UAAUU,cAAc,gCAC5BhE,KAAKsD,UAAUU,cAAc,+BAA+B6B,QAEpE,CAEApB,cAAAA,GACI,OAAOzE,KAAKsD,UAAUlC,aAAa,2BACvC,CAEAoE,aAAAA,GACQxF,KAAKsD,UAAUU,cAAc,yBAC7BhE,KAAKsD,UAAUU,cAAc,iBAAiBE,mBAAmB,YAAalE,KAAKyD,UAAUI,UAErG,CAEAO,SAAAA,CAAUxB,GACN,IAAI8E,EAAM,GACV,IAAK,IAAIC,KAAK/E,EACRA,EAAIE,eAAe6E,IACrBD,EAAIE,KAAKC,mBAAmBF,GAAK,IAAME,mBAAmBjF,EAAI+E,KAElE,OAAOD,EAAIlB,KAAK,IACpB,CAEAjB,aAAAA,GACIvF,KAAKsD,UAAUU,cAAc,8BAA8BgC,aAAa,YAAa,IACrFhG,KAAKsD,UAAUU,cAAc,4BAA4B6B,SACzD7F,KAAKsD,UAAUU,cAAc,iBAAiBoD,UAAY,GAC1DpH,KAAKsD,UAAUU,cAAc,iBAAiBE,mBAAmB,YAAalE,KAAKyD,UAAUG,MACjG,EAGJ,mCChPA7C,SAASC,iBAAiB,qBAAqB0E,QAASvE,IAC9B,IAAI+B,iBAAY/B,I","sources":["webpack://@helsingborg-stad/api-alarm-integration/./source/js/Helper/Template.js","webpack://@helsingborg-stad/api-alarm-integration/./source/js/Helper/Object.js","webpack://@helsingborg-stad/api-alarm-integration/webpack/bootstrap","webpack://@helsingborg-stad/api-alarm-integration/webpack/runtime/define property getters","webpack://@helsingborg-stad/api-alarm-integration/webpack/runtime/hasOwnProperty shorthand","webpack://@helsingborg-stad/api-alarm-integration/./source/js/api-alarm-module.ts","webpack://@helsingborg-stad/api-alarm-integration/./source/js/api-alarm-integration.ts"],"sourcesContent":["import ObjectByString from './Object';\n\nexport default (function () {\n\n    let _templates = [];\n\n    function Template() {\n        this.getTemplates();\n    }\n\n    Template.prototype.render = function(key, data) {\n        // Get template html\n        let template = _templates[key];\n\n        // Replace template strings\n        template = template.replace(/{#\\s*([\\w\\.\\[\\]]+)\\s*#}/g, function($1, $2) {\n            return Object.byString(data, $2);\n        });\n\n        // Handle if-statements\n        template = template.replace(/{##\\s*if(.*)\\s*##}([\\s\\S]*?){##\\s*endif\\s*##}/gm, function ($1, $2, $3) {\n            if (!eval($2)) {\n                return '';\n            }\n\n            return $3;\n        });\n\n        // Return the new html\n        return template;\n    };\n\n    /**\n     * Store templates in _templates array and removes it from the DOM\n     * @return {void}\n     */\n    Template.prototype.getTemplates = function() {\n        let templateElements = document.querySelectorAll('[data-template]');\n\n        for (let i = 0; i < templateElements.length; i++) {\n            let el = templateElements[i];\n            let key = el.getAttribute('data-template');\n            let html = el.outerHTML.replace(/data-template=\"([^\\\"]*)\"/ig, '');\n\n            _templates[key] = html;\n            el.parentElement.removeChild(el);\n        }\n    };\n\n    return new Template();\n\n})();\n","export default Object.byString = function(o, s) {\n    s = s.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties\n    s = s.replace(/^\\./, '');           // strip a leading dot\n\n    let a = s.split('.');\n\n    for (let i = 0, n = a.length; i < n; ++i) {\n        let k = a[i];\n\n        if (k in o) {\n            o = o[k];\n        } else {\n            return;\n        }\n    }\n\n    return o;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import Template from './Helper/Template';\n\ninterface ApiAlarmIntegrationType {\n    Helper?: {\n        Template?: typeof Template;\n        [key: string]: any;\n    };\n    [key: string]: any;\n}\nlet ApiAlarmIntegration: ApiAlarmIntegrationType = {};\nApiAlarmIntegration.Helper = {};\nApiAlarmIntegration.Helper.Template = Template;\n\nclass AlarmModule {\n\n    //DEclare variables\n    AlarmList;\n    perPage;\n    requestUrl;\n    Templates;\n\n    /**\n     * Constructor for the AlarmModule class\n     * @param {HTMLElement} alarmList - The HTML element that contains the alarm list\n     */\n    constructor(alarmList) {\n        this.AlarmList  = alarmList;\n        this.perPage    = alarmList.getAttribute('data-alarms-per-page');\n        this.requestUrl = alarmList.getAttribute('data-alarm-api') + 'wp/v2/alarm';\n\n        this.Templates = {\n            loader:     ApiAlarmIntegration.Helper?.Template?.render('api-alarm-integration-loader'),\n            loadMore:   ApiAlarmIntegration.Helper?.Template?.render('api-alarm-integration-load-more'),\n            error:      ApiAlarmIntegration.Helper?.Template?.render('api-alarm-integration-error'),\n            noResults:  ApiAlarmIntegration.Helper?.Template?.render('api-alarm-integration-no-results')\n        }\n\n        this.loadAlarms();\n        this.searchListener();\n    }\n\n    loadAlarms() {\n        this.AlarmList.querySelector('[data-api-alarms-container').removeAttribute('is-loaded')\n        this.AlarmList.insertAdjacentHTML('beforeend', this.Templates.loader);\n\n        // Get filters and make a query string of them\n        let dataQuery = this.serialize(Object.assign({\n            per_page: this.perPage,\n            page: parseInt(this.getCurrentPage()) + 1\n        }, this.getFilters()));\n\n        async function postData(url = '') {\n            const response = await fetch(url, {\n                cache: 'no-cache',\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded',\n                },\n                redirect: 'follow',\n                referrerPolicy: 'no-referrer', \n            });\n\n            if(response.status !== 200) {\n                return false;\n            }\n            \n            return response.json();\n        }\n        \n        postData(`${this.requestUrl}?${dataQuery}`).then((response) => {\n\n            if(!response) {\n                this.requestFailed();\n            }\n\n            if(response) {\n                if(response.length <= 0) {\n                    this.showNoResults()\n                    this.noMoreLoadMore()\n                }\n\n                if(response.length > 0) {\n                    response.forEach(item => {\n                        this.addAlarmToList(item);\n                    });\n\n                    if(this.AlarmList.querySelector('#mod-alarm-no-result')) {\n                        this.AlarmList.querySelector('#mod-alarm-no-result').remove()\n                    }\n\n                    this.addAccordionListener();\n                }\n\n                if(response.length >= this.perPage) {\n                    //Add load more button if there is none\n                    if(!this.AlarmList.querySelector('[data-api-alarms-load-more]')) {\n                        this.AlarmList.insertAdjacentHTML('beforeend', this.Templates.loadMore);\n\n                        this.AlarmList.querySelector('[data-api-alarms-load-more]').addEventListener('click', () => {\n                            this.AlarmList.setAttribute('data-alarms-current-page', parseInt(this.getCurrentPage()) +1);\n                            this.loadAlarms()\n                        })\n                    }\n                    // this.loadMoreListener() \n                }\n\n                if(response.length > 0 && response.length < this.perPage) {\n                    this.noMoreLoadMore()\n                }\n\n                this.AlarmList.querySelector('[data-api-alarms-container]').setAttribute('is-loaded', '')\n                this.AlarmList.querySelector('[data-api-alarms-loader]').remove()\n            }\n        })\n        .catch((e) => {\n            this.requestFailed()\n        });\n    }\n\n    getFilters() {\n        let filters: { [key: string]: any } = {\n            'search': this.getInputValue(this.AlarmList.querySelector('#input_data-alarm-filter-text')),\n            'place': this.getInputValue(this.AlarmList.querySelector('[data-alarm-filter=\"place\"]')),\n            'date_from': this.getInputValue(this.AlarmList.querySelector('#data-alarm-filter-date-from')?.querySelector('input')),\n            'date_to': this.getInputValue(this.AlarmList.querySelector('#data-alarm-filter-date-to')?.querySelector('input'))\n        };\n\n        // Safely format dates if they exist and are in the expected format\n        if (typeof filters.date_from === 'string' && filters.date_from.includes('/')) {\n            filters.date_from = filters.date_from.split('/').reverse().join('-');\n        } else {\n            delete filters.date_from;\n        }\n\n        if (typeof filters.date_to === 'string' && filters.date_to.includes('/')) {\n            filters.date_to = filters.date_to.split('/').reverse().join('-');\n        } else {\n            delete filters.date_to;\n        }\n\n        // Remove empty string filters\n        for (let key in filters) {\n            if (typeof filters[key] === 'string' && filters[key].trim() === '' || filters[key] === null || filters[key] === undefined) {\n                delete filters[key];\n            }\n        }\n\n        return filters;\n    };\n\n    getInputValue(element) {\n        if(element !== null) {\n            return element.value;\n        }\n        return '';\n    }\n\n    addAlarmToList (item) {\n        item.date = item.date.replace(\"T\", \" \").substring(0, item.date.length - 3);\n\n        // Append alarm\n        let alarm = ApiAlarmIntegration.Helper.Template.render('api-alarm-integration-row', item);\n        this.AlarmList.querySelector('[data-api-alarms-container]').insertAdjacentHTML('beforeend', alarm);\n    };\n\n    loadMoreListener() {\n        //Add load more button if there is none\n        if(!this.AlarmList.querySelector('[data-api-alarms-load-more]')) {\n            this.AlarmList.insertAdjacentHTML('beforeend', this.Templates.loadMore);\n\n            this.AlarmList.querySelector('[data-api-alarms-load-more]').addEventListener('click', () => {\n                this.AlarmList.setAttribute('data-alarms-current-page', parseInt(this.getCurrentPage()) +1);\n                this.loadAlarms()\n            })\n        }\n    }\n    /**\n     * Listens to submission of form\n     */\n    searchListener() {\n        this.AlarmList.querySelector('[data-alarm-filter-search]').addEventListener('click', () => {\n            this.search();\n        })\n\n        this.AlarmList.querySelector('#input_data-alarm-filter-text').onkeydown = (e) => {\n            if(e.keyCode == 13){\n                this.search();\n            }\n        };\n    }\n\n    search() {\n        this.AlarmList.setAttribute('data-alarms-current-page', 0);\n        this.AlarmList.querySelector('[data-api-alarms-container]').innerHTML = '';\n        this.loadAlarms()\n    }\n\n    addAccordionListener() {\n        const alarmRow = this.AlarmList.querySelectorAll('[data-api-alarms-row]');\n\n        alarmRow.forEach(btn => {\n            if(!btn.hasAttribute('has-accordion-listener')) {\n                btn.setAttribute('has-accordion-listener', '');\n                btn.addEventListener('click', (e) => {\n                    e.target.closest('[data-api-alarms-row]').toggleAttribute('is-expanded');\n                })\n            }\n        });\n    }\n\n    noMoreLoadMore() {\n        if(this.AlarmList.querySelector('[data-api-alarms-load-more]')) {\n            this.AlarmList.querySelector('[data-api-alarms-load-more]').remove()\n        }\n    }\n\n    getCurrentPage() {\n        return this.AlarmList.getAttribute('data-alarms-current-page');\n    }\n    \n    showNoResults() {\n        if(!this.AlarmList.querySelector('#mod-alarm-no-result')){\n            this.AlarmList.querySelector('.c-card__body').insertAdjacentHTML('beforeend', this.Templates.noResults);\n        }\n    }\n\n    serialize(obj) {\n        var str = [];\n        for (var p in obj)\n          if (obj.hasOwnProperty(p)) {\n            str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p]));\n          }\n        return str.join(\"&\");\n    }\n\n    requestFailed() {\n        this.AlarmList.querySelector('[data-api-alarms-container').setAttribute('is-loaded', '')\n        this.AlarmList.querySelector('[data-api-alarms-loader]').remove()\n        this.AlarmList.querySelector('.c-card__body').innerHTML = \"\";\n        this.AlarmList.querySelector('.c-card__body').insertAdjacentHTML('beforeend', this.Templates.error);\n    }\n}\n\nexport default AlarmModule;\n","import AlarmModule from './api-alarm-module';\n\ndocument.querySelectorAll('[data-api-alarms]').forEach((el) => {\n    const AlarmInstance = new AlarmModule(el);\n})"],"names":["_templates","Template","this","getTemplates","prototype","render","key","data","template","replace","$1","$2","Object","byString","$3","eval","templateElements","document","querySelectorAll","i","length","el","getAttribute","html","outerHTML","parentElement","removeChild","o","s","a","split","n","k","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","defineProperty","enumerable","get","obj","prop","hasOwnProperty","call","ApiAlarmIntegration","Helper","AlarmModule","constructor","alarmList","_defineProperty","AlarmList","perPage","requestUrl","Templates","loader","loadMore","error","noResults","loadAlarms","searchListener","querySelector","removeAttribute","insertAdjacentHTML","dataQuery","serialize","assign","per_page","page","parseInt","getCurrentPage","getFilters","async","url","response","fetch","cache","headers","redirect","referrerPolicy","status","json","postData","then","requestFailed","showNoResults","noMoreLoadMore","forEach","item","addAlarmToList","remove","addAccordionListener","addEventListener","setAttribute","catch","e","filters","getInputValue","date_from","includes","reverse","join","date_to","trim","element","value","date","substring","alarm","loadMoreListener","search","onkeydown","keyCode","innerHTML","btn","hasAttribute","target","closest","toggleAttribute","str","p","push","encodeURIComponent"],"ignoreList":[],"sourceRoot":""}